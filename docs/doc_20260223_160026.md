# `pages.tools` – Tool Page Module

**File path:**  
`/app/cloned_repos/spotify_data/pages/tools.py`

---

## Overview

`pages.tools` is a Dash page module that renders the **Tools** page of the Spotify Analyzer web application.  
It registers itself with Dash’s page registry and provides a layout function that builds a navigation bar and a greeting for the logged‑in user.

---

## Imports & Dependencies

| Import | Purpose |
|--------|---------|
| `dash` | Provides the `register_page` function used to expose this module as a Dash page. |
| `dash.html` | Supplies HTML components (`Div`, `H1`, `H5`, etc.) used to build the page layout. |
| `dash_bootstrap_components` (`dbc`) | Supplies Bootstrap‑styled components (`NavbarSimple`, `NavItem`, `NavLink`) for a responsive navigation bar. |

> **Why these dependencies exist**  
> The module builds a UI using Dash’s component library and Bootstrap styling.  
> `dash.register_page` is required for the page to be discoverable by the Dash app.  
> `dbc.NavbarSimple` and related components provide a consistent navigation experience across the app.

---

## Page Registration

```python
dash.register_page(__name__, path_template='/tools/<username>')
```

* Registers the module as a page with the URL pattern `/tools/<username>`.  
* The `<username>` part of the URL is passed to the `layout` function as the `username` argument.

---

## `layout` Function

```python
def layout(username=None):
```

### Parameters

| Name | Type | Description |
|------|------|-------------|
| `username` | `str` | The Spotify username extracted from the URL. It may contain URL‑encoded spaces (`%20`). |

### Return Value

* Returns a `dash.html.Div` that contains:
  * A Bootstrap navigation bar (`dbc.NavbarSimple`) with links to **Liked Songs**, **Recents**, and **Analytics** pages, plus a **Back** link to the tools page itself.
  * A greeting section that displays:
    * A large “Hello” heading.
    * The user’s first name (derived from `username`).
    * A subtitle prompting the user to use the navigation links.

### Implementation Details

```python
# Build the navigation bar
navbar = dbc.NavbarSimple(
    children=[
        dbc.NavItem(dbc.NavLink("Liked Songs", href=f'http://localhost:8050/liked/{username}', id='LikedSongs')),
        dbc.NavItem(dbc.NavLink("Recents", href=f'http://localhost:8050/recents/{username}', id="Recents")),
        dbc.NavItem(dbc.NavLink("Analytics", href=f'http://localhost:8050/analytics/{username}', id="Analytics"))
    ],
    brand="Spotify Analyzer",
    brand_href="http://localhost:8050/",
    className='box-form left'
)

# Extract the first name from the username (handles URL‑encoded spaces)
first_name = str(username).split('%20')[0]

# Build the greeting section
greeting = html.Div(
    [
        html.H1("Hello", style={'font-size':'10vmax','color':'white'}),
        html.H1(first_name, style={'font-size':'10vmax','color':'white'}),
        html.H5("use the navigation links to access various features of the tool", style={'color':'white'})
    ],
    style={"padding-left":"25px","padding-top":"10px"}
)

# Return the full page
return html.Div([navbar, greeting], style={'width':'100vw'})
```

* **Styling** – Inline styles are used for font sizes, colors, and padding.  
* **URL construction** – The navigation links are hard‑coded to `http://localhost:8050/...` and include the `username` variable.  
* **First name extraction** – Splits the URL‑encoded username on `%20` to get the first word, which is displayed as the greeting.

---

## Usage

1. **Navigation** – When a user logs in, the app redirects to `/tools/<username>`.  
2. **Dash App** – The Dash application automatically discovers this page via `dash.register_page` and renders the layout when the URL matches.  
3. **Interaction** – The page itself contains no callbacks; it simply provides navigation to other pages (`liked`, `recents`, `analytics`).

---

## Dependencies & Usage Summary

| Module | Depends on | Used by |
|--------|------------|---------|
| `pages.tools` | `dash`, `dash.html`, `dash_bootstrap_components` | None (directly used by Dash’s page registry) |

> **Note:**  
> The evidence shows no other modules import or call `pages.tools`.  
> It is a standalone page module that is rendered by Dash when the URL matches `/tools/<username>`.

---

## Quick Reference

```python
# Register the page
dash.register_page(__name__, path_template='/tools/<username>')

# Layout function
def layout(username=None):
    # Build navbar
    navbar = dbc.NavbarSimple(
        children=[
            dbc.NavItem(dbc.NavLink("Liked Songs", href=f'http://localhost:8050/liked/{username}', id='LikedSongs')),
            dbc.NavItem(dbc.NavLink("Recents", href=f'http://localhost:8050/recents/{username}', id="Recents")),
            dbc.NavItem(dbc.NavLink("Analytics", href=f'http://localhost:8050/analytics/{username}', id="Analytics"))
        ],
        brand="Spotify Analyzer",
        brand_href="http://localhost:8050/",
        className='box-form left'
    )

    # Greeting
    first_name = str(username).split('%20')[0]
    greeting = html.Div(
        [
            html.H1("Hello", style={'font-size':'10vmax','color':'white'}),
            html.H1(first_name, style={'font-size':'10vmax','color':'white'}),
            html.H5("use the navigation links to access various features of the tool", style={'color':'white'})
        ],
        style={"padding-left":"25px","padding-top":"10px"}
    )

    return html.Div([navbar, greeting], style={'width':'100vw'})
```

This documentation captures all explicit information about `pages.tools` from the provided evidence, explaining its purpose, dependencies, and how it fits into the overall application.